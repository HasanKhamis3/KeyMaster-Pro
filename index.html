<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تقرير متابعة جودة التعليم والتعلم للقيادة العليا والوسطى</title>
    <style>
        /* أنماط عامة للصفحة */
        * {
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            margin: 0;
            padding: 20px;
            background-color: #ffffff;
            color: #000000;
            line-height: 1.5;
            font-size: 14px;
        }
        
        /* تنسيقات النصوص */
        .header-logo {
            width: 100%;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .header-logo img {
            max-width: 100%;
            height: auto;
        }
        
        .document-title {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin: 10px 0;
            text-decoration: underline;
        }
        
        .section-title {
            font-size: 16px;
            font-weight: bold;
            margin-top: 25px;
            margin-bottom: 15px;
            text-decoration: underline;
            text-align: right;
        }
        
        .subsection-title {
            font-size: 15px;
            font-weight: bold;
            margin-top: 20px;
            margin-bottom: 10px;
            text-align: right;
        }
        
        .text-center {
            text-align: center;
        }
        
        .text-right {
            text-align: right;
        }
        
        .bold {
            font-weight: bold;
        }
        
        .underline {
            text-decoration: underline;
        }
        
        /* تنسيقات الجداول */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
            text-align: center;
        }
        
        th, td {
            border: 1px solid #000000;
            padding: 8px 5px;
            vertical-align: middle;
        }
        
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        .table-section-header {
            background-color: #e6e6e6;
            font-weight: bold;
        }
        
        .table-note {
            font-size: 13px;
            text-align: right;
            margin-top: 5px;
            font-style: italic;
        }
        
        /* تنسيقات النماذج والعناصر التفاعلية */
        input, select, textarea {
            width: 100%;
            padding: 5px;
            border: 1px solid #cccccc;
            border-radius: 3px;
            font-size: 14px;
            text-align: right;
        }
        
        input[type="checkbox"] {
            width: auto;
            margin-left: 10px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        /* تنسيقات الأزرار */
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
            text-decoration: none;
        }
        
        .btn:hover {
            background-color: #45a049;
        }
        
        .btn-secondary {
            background-color: #008CBA;
        }
        
        .btn-secondary:hover {
            background-color: #0077a3;
        }
        
        /* تنسيقات الصفحة */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #ffffff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        .page-header {
            border-bottom: 2px solid #000000;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }
        
        .page-footer {
            border-top: 1px solid #cccccc;
            padding-top: 15px;
            margin-top: 30px;
            text-align: center;
            font-size: 12px;
            color: #666666;
        }
        
        .signature-section {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px dashed #000000;
        }
        
        /* تنسيقات متخصصة للتقرير */
        .month-year-info {
            text-align: center;
            font-size: 15px;
            margin: 10px 0;
        }
        
        .school-name {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            margin: 15px 0;
            text-decoration: underline;
        }
        
        .preparer-info {
            text-align: left;
            font-size: 14px;
            margin-top: 30px;
        }
        
        .total-row {
            background-color: #f0f0f0;
            font-weight: bold;
        }
        
        /* تنسيقات الرسم البياني */
        .chart-container {
            width: 100%;
            height: 300px;
            margin: 20px 0;
            border: 1px solid #cccccc;
            padding: 15px;
            background-color: #f9f9f9;
        }
        
        .chart-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #e9e9e9;
            color: #666666;
            font-style: italic;
        }
        
        /* تنسيقات للأقسام الأكاديمية */
        .academic-section {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #dddddd;
            background-color: #fafafa;
        }
        
        /* تنسيقات للاستجابة */
        @media print {
            .no-print {
                display: none;
            }
            
            .container {
                box-shadow: none;
            }
            
            .btn {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
                font-size: 13px;
            }
            
            th, td {
                padding: 5px 3px;
                font-size: 12px;
            }
            
            .container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- رأس الصفحة مع الشعار والعنوان -->
        <div class="page-header">
            <div class="header-logo">
                <!-- سيتم استبدال هذا بالشعار الفعلي -->
                <div style="background-color: #f0f0f0; height: 100px; display: flex; justify-content: center; align-items: center; color: #666; border: 1px dashed #ccc;">
                    [شعار المدرسة أو الوزارة]
                </div>
            </div>
            
            <div class="document-title">
                تقرير متابعة جودة التعليم والتعلم للقيادة العليا والوسطى
            </div>
            
            <div class="school-name">
                لمدرسة ــــــــــــــــــــــــــــــــــــ
            </div>
            
            <div class="month-year-info">
                <span class="bold">شهر ____________</span>
            </div>
            
            <div class="month-year-info">
                <span class="bold">العام الدراسي 2025 / 2026م</span>
            </div>
            
            <div class="preparer-info">
                إعداد المدير/ة المساعد/ة / يعتمد، مدير/ة المدرسة
            </div>
        </div>
        
        <!-- قسم متابعة تسليم القيادة الوسطى -->
        <div class="section-title">أولاً: متابعة تسليم القيادة الوسطى (الزيارات/محاضر الاجتماعات /الخطة الأسبوعية) للمواد الدراسية الى المدير/ة المساعد/ة في المدرسة</div>
        
        <table>
            <thead>
                <tr>
                    <th width="25%">القسم</th>
                    <th colspan="4">متابعة القيادة العليا للقيادة الوسطى</th>
                </tr>
                <tr>
                    <th></th>
                    <th width="20%">عدد استمارات الزيارات الصفية التي نفذت من قبل المعلم الأول أو المنسق خلال الشهر</th>
                    <th width="20%">يوجد محضر اجتماع المعلم الأول أو المنسق مع المعلمين</th>
                    <th width="20%">توجد خطة أسبوعية للمعلم الأول أو المنسق</th>
                    <th width="15%">أسباب عدم التسليم</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="table-section-header">معلم أول / منسق اللغة العربية</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="table-section-header">معلم أول/منسق رياضيات وعلوم</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="table-section-header">معلم اول/منسق اللغة الإنجليزية</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="table-section-header">معلم أول/منسق تربية اسلامية</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="table-section-header">معلم اول/منسق المواد الاجتماعية</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="table-section-header">معلم أول/منسق نظام فصل</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="table-section-header">منسق المواد الإثرائية</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="table-section-header">منسق التربية الرياضية</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        
        <div class="table-note">
            ملاحظات عامة: يتم التنسيق مع القيادة الوسطى لتنفيذ الزيارات الصفية بحسب ما يتناسب مع ظروف الجداول والنصاب المسند لهم.
        </div>
        
        <div class="preparer-info">أعده: _______________</div>
        
        <!-- قسم عدد الزيارات -->
        <div class="section-title">ثانياً: عدد الزيارات التي نُفذت خلال شهر ...... من قبل:</div>
        
        <div class="form-group">
            <div class="form-label">1- القيادة العليا =</div>
            <input type="text" placeholder="أدخل عدد الزيارات">
        </div>
        
        <div class="form-group">
            <div class="form-label">2- القيادة الوسطى =</div>
            <input type="text" placeholder="أدخل عدد الزيارات">
        </div>
        
        <!-- قسم بيان أسماء المعلمين المُزارين -->
        <div class="section-title">ثالثًا: بيان أسماء المعلمين المُزارين من قبل القيادة العليا والوسطى خلال شهر......</div>
        
        <table>
            <thead>
                <tr>
                    <th width="5%">ت</th>
                    <th width="20%">اسم المعلم</th>
                    <th width="15%">القسم</th>
                    <th width="15%">تاريخ الزيارة</th>
                    <th width="15%">تقييم الزيارة</th>
                    <th width="30%">اسم الزائر</th>
                </tr>
            </thead>
            <tbody id="visited-teachers-body">
                <!-- سيتم إضافة الصفوف ديناميكيًا -->
            </tbody>
        </table>
        
        <div class="no-print" style="text-align: center; margin: 15px 0;">
            <button class="btn" onclick="addVisitedTeacherRow()">إضافة معلم مُزار</button>
            <button class="btn btn-secondary" onclick="clearVisitedTeachers()">مسح الكل</button>
        </div>
        
        <!-- قسم عدد الزيارات الصفية وتقييم الأداء الصفي -->
        <div class="section-title">رابعاً: عدد الزيارات الصفية وتقييم الأداء الصفي</div>
        
        <table>
            <thead>
                <tr>
                    <th width="5%">ت</th>
                    <th width="25%">الأقسام الأكاديمية</th>
                    <th width="20%">مجموع عدد الزيارات للقسم</th>
                    <th colspan="4">مستويات الأداء</th>
                </tr>
                <tr>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th width="15%">يفوق التوقعات بكثير</th>
                    <th width="15%">يفوق التوقعات</th>
                    <th width="15%">يفي بالتوقعات</th>
                    <th width="15%">يفي بالتوقعات جزئيا</th>
                </tr>
            </thead>
            <tbody id="performance-evaluation-body">
                <!-- سيتم إضافة الصفوف ديناميكيًا -->
            </tbody>
            <tfoot>
                <tr class="total-row">
                    <td colspan="2">مجموع عدد الزيارات الصفية للقيادة العليا والوسطى</td>
                    <td id="total-visits"></td>
                    <td id="total-exceeds-greatly"></td>
                    <td id="total-exceeds"></td>
                    <td id="total-meets"></td>
                    <td id="total-partially-meets"></td>
                </tr>
            </tfoot>
        </table>
        
        <!-- رسم بياني -->
        <div class="subsection-title">رسم بياني يوضح مجموع عدد الزيارات الصفية للقيادة العليا والوسطى</div>
        
        <div class="chart-container">
            <div class="chart-placeholder">
                [سيتم عرض رسم بياني هنا بعد إدخال البيانات]
            </div>
        </div>
        
        <!-- قسم المعلمين المتميزين -->
        <div class="section-title">سادساً: حصر أسماء المعلمين المتميزين في الأقسام الأكاديمية</div>
        
        <table>
            <thead>
                <tr>
                    <th width="10%">الرقم</th>
                    <th width="20%">اسم المعلم</th>
                    <th width="15%">التقدير</th>
                    <th width="30%">المبررات</th>
                    <th width="25%">القسم الأكاديمي</th>
                </tr>
            </thead>
            <tbody id="distinguished-teachers-body">
                <!-- سيتم إضافة الصفوف ديناميكيًا -->
            </tbody>
        </table>
        
        <div class="no-print" style="text-align: center; margin: 15px 0;">
            <button class="btn" onclick="addDistinguishedTeacherRow()">إضافة معلم متميز</button>
        </div>
        
        <!-- قسم المعلمين الأولى بالرعاية -->
        <div class="subsection-title">حصر أسماء المعلمين الأولى بالرعاية في الأقسام الأكاديمية</div>
        
        <table>
            <thead>
                <tr>
                    <th width="10%">الرقم</th>
                    <th width="20%">اسم المعلم</th>
                    <th width="15%">التقدير</th>
                    <th width="30%">المبررات</th>
                    <th width="25%">القسم الأكاديمي</th>
                </tr>
            </thead>
            <tbody id="needs-support-teachers-body">
                <!-- سيتم إضافة الصفوف ديناميكيًا -->
            </tbody>
        </table>
        
        <div class="no-print" style="text-align: center; margin: 15px 0;">
            <button class="btn" onclick="addNeedsSupportTeacherRow()">إضافة معلم يحتاج رعاية</button>
        </div>
        
        <!-- التقرير النوعي -->
        <div class="section-title">سابعًا: التقرير النوعي</div>
        <div class="subsection-title">جوانب القوة والتطوير لأداء المعلمين خلال الزيارات الصفية في الأقسام الأكاديمية</div>
        
        <table>
            <thead>
                <tr>
                    <th width="30%">الأقسام الأكاديمية</th>
                    <th width="35%">جوانب القوة</th>
                    <th width="35%">جوانب بحاجة إلى تطوير</th>
                </tr>
            </thead>
            <tbody id="qualitative-report-body">
                <!-- سيتم إضافة الصفوف ديناميكيًا -->
            </tbody>
        </table>
        
        <!-- قسم التوقيعات -->
        <div class="signature-section">
            <div style="display: flex; justify-content: space-between; margin-top: 30px;">
                <div style="width: 45%; text-align: center;">
                    <div>توقيع المدير/ة المساعد/ة</div>
                    <div style="margin-top: 40px; border-bottom: 1px solid #000; padding-bottom: 5px;">_____________________</div>
                    <div style="margin-top: 5px;">الاسم: _____________________</div>
                    <div style="margin-top: 5px;">التاريخ: ___/___/_____</div>
                </div>
                
                <div style="width: 45%; text-align: center;">
                    <div>توقيع مدير/ة المدرسة</div>
                    <div style="margin-top: 40px; border-bottom: 1px solid #000; padding-bottom: 5px;">_____________________</div>
                    <div style="margin-top: 5px;">الاسم: _____________________</div>
                    <div style="margin-top: 5px;">التاريخ: ___/___/_____</div>
                </div>
            </div>
        </div>
        
        <!-- أزرار التحكم -->
        <div class="no-print" style="text-align: center; margin-top: 30px;">
            <button class="btn" onclick="saveReport()">حفظ التقرير</button>
            <button class="btn btn-secondary" onclick="printReport()">طباعة التقرير</button>
            <button class="btn" onclick="clearAll()">مسح النموذج</button>
            <button class="btn btn-secondary" onclick="loadSampleData()">تحميل بيانات تجريبية</button>
        </div>
        
        <div class="page-footer">
            نظام متابعة جودة التعليم والتعلم - العام الدراسي 2025/2026م
        </div>
    </div>
    
    <script>
        // بيانات أولية للنموذج
        const academicSections = [
            "الرياضيات والعلوم",
            "اللغة العربية",
            "اللغة الانجليزية",
            "التربية الإسلامية",
            "المواد الاجتماعية",
            "المواد الاثرائية",
            "التربية الرياضية",
            "نظام الفصل"
        ];
        
        const performanceLevels = [
            "يفوق التوقعات بكثير",
            "يفوق التوقعات",
            "يفي بالتوقعات",
            "يفي بالتوقعات جزئيا"
        ];
        
        // تهيئة الجداول عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            initializeVisitedTeachersTable();
            initializePerformanceEvaluationTable();
            initializeDistinguishedTeachersTable();
            initializeNeedsSupportTeachersTable();
            initializeQualitativeReportTable();
        });
        
        // وظائف لإدارة جدول المعلمين المُزارين
        function initializeVisitedTeachersTable() {
            const body = document.getElementById('visited-teachers-body');
            body.innerHTML = '';
            
            // إضافة صفوف لمدير المدرسة
            addVisitedTeacherSection('مدير المدرسة', 'مدير المدرسة', 6);
            
            // إضافة صفوف للمدير المساعد
            addVisitedTeacherSection('المدير المساعد', 'المدير المساعد', 6);
            
            // إضافة صفوف لباقي الأقسام
            const coordinators = [
                {name: 'معلم أول/منسق رياضيات', id: 'رياضيات'},
                {name: 'معلم اول/منسق اللغة العربية', id: 'عربية'},
                {name: 'معلم أول/منسق اللغة الانجليزية', id: 'انجليزية'},
                {name: 'معلم أول/منسق تربية إسلامية', id: 'تربية إسلامية'},
                {name: 'معلم اول/منسق مواد اجتماعية', id: 'اجتماعية'},
                {name: 'منسق المواد الاثرائية', id: 'إثرائية'},
                {name: 'منسق التربية الرياضية', id: 'تربية رياضية'},
                {name: 'معلم أول نظام فصل', id: 'نظام فصل'}
            ];
            
            coordinators.forEach(coordinator => {
                addVisitedTeacherSection(coordinator.name, coordinator.name, 6);
            });
        }
        
        function addVisitedTeacherSection(visitorName, visitorId, rowCount) {
            const body = document.getElementById('visited-teachers-body');
            
            // إضافة صف للمجموع السابق إذا كان هناك زائر سابق
            if (body.rows.length > 0) {
                const totalRow = document.createElement('tr');
                totalRow.innerHTML = `
                    <td colspan="6" style="text-align: right; font-weight: bold;">مجموع الزيارات =</td>
                `;
                body.appendChild(totalRow);
            }
            
            // إضافة صفوف الزيارات
            for (let i = 1; i <= rowCount; i++) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${i}</td>
                    <td><input type="text" style="width: 95%;" placeholder="اسم المعلم"></td>
                    <td><input type="text" style="width: 95%;" placeholder="القسم"></td>
                    <td><input type="date" style="width: 95%;"></td>
                    <td>
                        <select style="width: 95%;">
                            <option value="">اختر التقييم</option>
                            ${performanceLevels.map(level => `<option value="${level}">${level}</option>`).join('')}
                        </select>
                    </td>
                    <td>${visitorName}</td>
                `;
                body.appendChild(row);
            }
        }
        
        function addVisitedTeacherRow() {
            // إضافة صف جديد لآخر زائر في القائمة
            const body = document.getElementById('visited-teachers-body');
            const lastRow = body.lastElementChild;
            const lastVisitorName = lastRow.cells[5]?.textContent || 'مدير المدرسة';
            
            const newRow = document.createElement('tr');
            const rowNumber = body.querySelectorAll('tr').length - body.querySelectorAll('tr[style*="text-align: right"]').length + 1;
            
            newRow.innerHTML = `
                <td>${rowNumber}</td>
                <td><input type="text" style="width: 95%;" placeholder="اسم المعلم"></td>
                <td><input type="text" style="width: 95%;" placeholder="القسم"></td>
                <td><input type="date" style="width: 95%;"></td>
                <td>
                    <select style="width: 95%;">
                        <option value="">اختر التقييم</option>
                        ${performanceLevels.map(level => `<option value="${level}">${level}</option>`).join('')}
                    </select>
                </td>
                <td>${lastVisitorName}</td>
            `;
            
            // إدراج الصف قبل صف المجموع إذا كان موجودًا
            const totalRows = body.querySelectorAll('tr');
            let lastTotalRow = null;
            
            totalRows.forEach(row => {
                if (row.cells[0]?.textContent.includes('مجموع')) {
                    lastTotalRow = row;
                }
            });
            
            if (lastTotalRow) {
                body.insertBefore(newRow, lastTotalRow);
            } else {
                body.appendChild(newRow);
            }
        }
        
        function clearVisitedTeachers() {
            if (confirm('هل أنت متأكد من مسح جميع بيانات المعلمين المُزارين؟')) {
                initializeVisitedTeachersTable();
            }
        }
        
        // وظائف لإدارة جدول تقييم الأداء
        function initializePerformanceEvaluationTable() {
            const body = document.getElementById('performance-evaluation-body');
            body.innerHTML = '';
            
            academicSections.forEach((section, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${section}</td>
                    <td><input type="number" min="0" style="width: 95%;" class="visit-count" onchange="updateTotals()"></td>
                    <td><input type="number" min="0" style="width: 95%;" class="exceeds-greatly" onchange="updateTotals()"></td>
                    <td><input type="number" min="0" style="width: 95%;" class="exceeds" onchange="updateTotals()"></td>
                    <td><input type="number" min="0" style="width: 95%;" class="meets" onchange="updateTotals()"></td>
                    <td><input type="number" min="0" style="width: 95%;" class="partially-meets" onchange="updateTotals()"></td>
                `;
                body.appendChild(row);
            });
            
            updateTotals();
        }
        
        function updateTotals() {
            let totalVisits = 0;
            let totalExceedsGreatly = 0;
            let totalExceeds = 0;
            let totalMeets = 0;
            let totalPartiallyMeets = 0;
            
            const rows = document.querySelectorAll('#performance-evaluation-body tr');
            
            rows.forEach(row => {
                const visitCount = parseInt(row.querySelector('.visit-count')?.value) || 0;
                const exceedsGreatly = parseInt(row.querySelector('.exceeds-greatly')?.value) || 0;
                const exceeds = parseInt(row.querySelector('.exceeds')?.value) || 0;
                const meets = parseInt(row.querySelector('.meets')?.value) || 0;
                const partiallyMeets = parseInt(row.querySelector('.partially-meets')?.value) || 0;
                
                totalVisits += visitCount;
                totalExceedsGreatly += exceedsGreatly;
                totalExceeds += exceeds;
                totalMeets += meets;
                totalPartiallyMeets += partiallyMeets;
            });
            
            document.getElementById('total-visits').textContent = totalVisits;
            document.getElementById('total-exceeds-greatly').textContent = totalExceedsGreatly;
            document.getElementById('total-exceeds').textContent = totalExceeds;
            document.getElementById('total-meets').textContent = totalMeets;
            document.getElementById('total-partially-meets').textContent = totalPartiallyMeets;
        }
        
        // وظائف لإدارة جدول المعلمين المتميزين
        function initializeDistinguishedTeachersTable() {
            const body = document.getElementById('distinguished-teachers-body');
            body.innerHTML = '';
            
            for (let i = 1; i <= 3; i++) {
                addDistinguishedTeacherRow();
            }
        }
        
        function addDistinguishedTeacherRow() {
            const body = document.getElementById('distinguished-teachers-body');
            const rowCount = body.querySelectorAll('tr').length;
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${rowCount + 1}</td>
                <td><input type="text" style="width: 95%;" placeholder="اسم المعلم"></td>
                <td>
                    <select style="width: 95%;">
                        <option value="">اختر التقدير</option>
                        ${performanceLevels.map(level => `<option value="${level}">${level}</option>`).join('')}
                    </select>
                </td>
                <td><textarea style="width: 95%; height: 60px;" placeholder="أسباب التميز"></textarea></td>
                <td>
                    <select style="width: 95%;">
                        <option value="">اختر القسم</option>
                        ${academicSections.map(section => `<option value="${section}">${section}</option>`).join('')}
                    </select>
                </td>
            `;
            body.appendChild(row);
        }
        
        // وظائف لإدارة جدول المعلمين الأولى بالرعاية
        function initializeNeedsSupportTeachersTable() {
            const body = document.getElementById('needs-support-teachers-body');
            body.innerHTML = '';
            
            for (let i = 1; i <= 3; i++) {
                addNeedsSupportTeacherRow();
            }
        }
        
        function addNeedsSupportTeacherRow() {
            const body = document.getElementById('needs-support-teachers-body');
            const rowCount = body.querySelectorAll('tr').length;
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${rowCount + 1}</td>
                <td><input type="text" style="width: 95%;" placeholder="اسم المعلم"></td>
                <td>
                    <select style="width: 95%;">
                        <option value="">اختر التقدير</option>
                        <option value="يفي بالتوقعات جزئيا">يفي بالتوقعات جزئيا</option>
                        <option value="بحاجة إلى تحسين">بحاجة إلى تحسين</option>
                        <option value="غير مقبول">غير مقبول</option>
                    </select>
                </td>
                <td><textarea style="width: 95%; height: 60px;" placeholder="أسباب الحاجة للرعاية"></textarea></td>
                <td>
                    <select style="width: 95%;">
                        <option value="">اختر القسم</option>
                        ${academicSections.map(section => `<option value="${section}">${section}</option>`).join('')}
                    </select>
                </td>
            `;
            body.appendChild(row);
        }
        
        // وظائف لإدارة التقرير النوعي
        function initializeQualitativeReportTable() {
            const body = document.getElementById('qualitative-report-body');
            body.innerHTML = '';
            
            academicSections.forEach(section => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${section}</td>
                    <td><textarea style="width: 95%; height: 80px;" placeholder="جوانب القوة"></textarea></td>
                    <td><textarea style="width: 95%; height: 80px;" placeholder="جوانب بحاجة إلى تطوير"></textarea></td>
                `;
                body.appendChild(row);
            });
        }
        
        // وظائف عامة لإدارة النموذج
        function saveReport() {
            // جمع بيانات النموذج
            const reportData = {
                schoolName: document.querySelector('.school-name').textContent,
                month: document.querySelector('.month-year-info span').textContent,
                academicYear: document.querySelectorAll('.month-year-info')[1].querySelector('span').textContent,
                // يمكن إضافة المزيد من البيانات هنا
            };
            
            // في التطبيق الفعلي، هنا يتم إرسال البيانات إلى الخادم
            alert('تم حفظ التقرير بنجاح! في التطبيق الفعلي، سيتم حفظ البيانات في قاعدة البيانات.');
            
            // يمكن حفظ البيانات في التخزين المحلي للمتصفح
            localStorage.setItem('educationQualityReport', JSON.stringify(reportData));
        }
        
        function printReport() {
            window.print();
        }
        
        function clearAll() {
            if (confirm('هل أنت متأكد من مسح جميع البيانات في التقرير؟')) {
                // إعادة تعيين النموذج
                document.querySelectorAll('input, select, textarea').forEach(element => {
                    if (element.type !== 'button') {
                        element.value = '';
                    }
                });
                
                // إعادة تهيئة الجداول
                initializeVisitedTeachersTable();
                initializePerformanceEvaluationTable();
                initializeDistinguishedTeachersTable();
                initializeNeedsSupportTeachersTable();
                initializeQualitativeReportTable();
                
                alert('تم مسح جميع البيانات بنجاح.');
            }
        }
        
        function loadSampleData() {
            if (confirm('هل تريد تحميل بيانات تجريبية؟ سيتم استبدال أي بيانات موجودة.')) {
                // تعبئة بعض الحقول ببيانات تجريبية
                document.querySelector('.school-name').textContent = 'لمدرسة النموذجية الثانوية';
                document.querySelector('.month-year-info span').textContent = 'شهر أكتوبر';
                
                // تعبئة بعض الحقول في الجداول
                const firstVisitInput = document.querySelector('#visited-teachers-body input[type="text"]');
                if (firstVisitInput) firstVisitInput.value = 'أحمد محمد';
                
                const firstCoordinatorCell = document.querySelector('#performance-evaluation-body .visit-count');
                if (firstCoordinatorCell) firstCoordinatorCell.value = '5';
                
                alert('تم تحميل البيانات التجريبية بنجاح.');
            }
        }
    </script>
</body>
</html>
